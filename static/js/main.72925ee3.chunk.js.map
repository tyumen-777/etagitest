{"version":3,"sources":["Components/Filter/Filter.js","Components/Sort/Sort.js","Components/Header/Header.js","Components/Main/Main.js","utils/Api.js","Components/CardInfo/CardInfo.js","Components/App/App.js","index.js"],"names":["Filter","searchValue","setSearchValue","className","htmlFor","placeholder","id","value","onChange","evt","target","Sort","cards","setRenderedCards","temp","React","useState","show","setShow","onClick","sort","a","b","price","console","log","floor","area_total","rooms","area_kitchen","area_live","Header","setCards","CardList","lazy","Main","renderedCards","fallback","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","response","_checkRequestResult","getCard","find","item","ok","json","Promise","reject","status","CardInfo","match","useParams","currentCard","setCurrentCard","loading","setLoading","useEffect","Api","getCardById","res","src","layout_image","alt","to","App","cardList","slice","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72925ee3.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Filter.css'\r\n\r\nfunction Filter({searchValue, setSearchValue}) {\r\n    return (\r\n        <div className=\"filter\">\r\n            <form className=\"filter__form\">\r\n                <label htmlFor=\"search\" className=\"filter__lable\">Filter</label>\r\n                <input\r\n                    placeholder='Введите id квартиры'\r\n                    id=\"search\"\r\n                    className=\"filter__input\"\r\n                    value={searchValue}\r\n                    onChange={(evt) => {\r\n                        setSearchValue(evt.target.value);\r\n                    }}\r\n                />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\nimport './Sort.css'\r\n\r\nfunction Sort({cards, setRenderedCards}) {\r\n    const temp = [...cards]\r\n    const [show, setShow] = React.useState(false)\r\n    const sortByPrice = () => {\r\n        temp.sort((a, b) => a.price > b.price ? 1 : -1)\r\n        //setCards(temp);\r\n        setRenderedCards(temp);\r\n        console.log(temp)\r\n    }\r\n    const sortByFloors = () => {\r\n        temp.sort((a, b) => a.floor > b.floor ? 1 : -1)\r\n        setRenderedCards(temp);\r\n    }\r\n    const sortBySquare = () => {\r\n        temp.sort((a, b) => a.area_total > b.area_total ? 1 : -1)\r\n        setRenderedCards(temp);\r\n        console.log(temp)\r\n    }\r\n    const sortByRooms = () => {\r\n        temp.sort((a, b) => a.rooms > b.rooms ? 1 : -1)\r\n        setRenderedCards(temp);\r\n        console.log(temp)\r\n    }\r\n    const sortByKitchen = () => {\r\n        temp.sort((a, b) => a.area_kitchen > b.area_kitchen ? 1 : -1)\r\n        setRenderedCards(temp);\r\n        console.log(temp)\r\n    }\r\n    const sortByLiveArea = () => {\r\n        temp.sort((a, b) => a.area_live > b.area_live ? 1 : -1)\r\n        setRenderedCards(temp);\r\n        console.log(temp)\r\n    }\r\n\r\n    return (\r\n        <div className='sort'>\r\n            <p>Соритровка по:</p>\r\n            <div className='sort__buttons'>\r\n                <button className='sort__button' onClick={sortByPrice}>По цене</button>\r\n                <button className='sort__button' onClick={sortByFloors}>По этажам</button>\r\n                <button className='sort__button' onClick={sortBySquare}>По площади</button>\r\n            </div>\r\n            <button className='sort__button-more' onClick={() => setShow(!show)}>&#9660;Показать дополнительные\r\n                фильтры&#9660;</button>\r\n            {\r\n                show ? <div className='sort__buttons'>\r\n                    <button className='sort__button' onClick={sortByRooms}>По комнатам</button>\r\n                    <button className='sort__button' onClick={sortByKitchen}>Площадь кухни</button>\r\n                    <button className='sort__button' onClick={sortByLiveArea}>Жилая площадь</button>\r\n                </div> : null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sort;","import React from 'react';\r\nimport './Header.css'\r\nimport Filter from \"../Filter/Filter\";\r\nimport Sort from \"../Sort/Sort\";\r\n\r\nfunction Header({searchValue, setSearchValue, cards, setCards, setRenderedCards}) {\r\n    return (\r\n        <div className=\"header\">\r\n            <h1 className=\"header__title\">Квартиры от застройщика</h1>\r\n            <Filter\r\n                searchValue={searchValue}\r\n                setSearchValue={setSearchValue}\r\n            />\r\n            <Sort\r\n                cards={cards}\r\n                setCards={setCards}\r\n                setRenderedCards={setRenderedCards}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","import React, {Suspense} from 'react';\r\nimport './Main.css'\r\n\r\nconst CardList = React.lazy(() => import(\"../CardList/CardList\"));\r\n\r\nfunction Main({searchValue, setSearchValue, cards, setCards, renderedCards, setRenderedCards}) {\r\n    return (\r\n        <main className='main'>\r\n            <Suspense fallback={<div>Загрузка квартир...</div>}>\r\n                <CardList\r\n                    searchValue={searchValue}\r\n                    setSearchValue={setSearchValue}\r\n                    cards={cards}\r\n                    setCards={setCards}\r\n                    renderedCards={renderedCards}\r\n                    setRenderedCards={setRenderedCards}\r\n                />\r\n            </Suspense>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","class Api {\r\n    constructor({baseUrl, headers}){\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    getCard() {\r\n        return fetch(`${this._baseUrl}/Flats`, {headers: this._headers})\r\n            .then(response => this._checkRequestResult(response));\r\n    }\r\n    getCardById(id) {\r\n\r\n        return this.getCard().then(response => response.find(item => item.id === +id)\r\n        )\r\n    }\r\n\r\n    // Parsing JSON on successful request\r\n    _checkRequestResult(response) {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        return Promise.reject(`Возникла ошибка: ${response.status}`);\r\n    }\r\n}\r\n\r\n// Instantiating class\r\nconst api = new Api({\r\n    baseUrl: 'https://610f8e44c848c900171b3915.mockapi.io',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","import React, {useEffect} from 'react';\r\nimport './CardInfo.css'\r\nimport {useParams, Link} from \"react-router-dom\";\r\nimport Api from '../../utils/Api'\r\n\r\nfunction CardInfo({match}) {\r\n\r\n    let {id} = useParams()\r\n    const [currentCard, setCurrentCard] = React.useState([])\r\n    const [loading, setLoading] = React.useState(false)\r\n    useEffect(() => {\r\n        if (!id) return\r\n        Api.getCardById(id).then(res => {\r\n            setCurrentCard(res)\r\n            setLoading(true)\r\n        })\r\n\r\n    }, [id])\r\n\r\n    //const chosenCard = currentCard && currentCard.filter(el => el.id ===id)\r\n\r\n\r\n    return (\r\n        loading ? (<div className='cardinfo__container'>\r\n            <div className='cardinfo__wrapper'>\r\n                <img className='cardinfo__image' src={currentCard.layout_image} alt='План квартиры'>\r\n                </img>\r\n                <div className=\"cardinfo__description\">\r\n                    <h1 className=\"cardinfo__title\">{currentCard.rooms}-комн. квартира, {currentCard.area_total} м2</h1>\r\n                    <p className=\"cardinfo__description\"><b>Этаж: {currentCard.floor}</b></p>\r\n                    <p className=\"cardinfo__description\"><b>Цена: {currentCard.price} &#8381;</b></p>\r\n                    <p className=\"cardinfo__description\"><b>Количество комнат: {currentCard.rooms}</b></p>\r\n                    <p className=\"cardinfo__description\"><b>Общая площадь: {currentCard.area_total}</b></p>\r\n                    <p className=\"cardinfo__description\"><b>Площадь кухни: {currentCard.area_kitchen}</b></p>\r\n                    <p className=\"cardinfo__description\"><b>Жилая площадь: {currentCard.area_live}</b></p>\r\n                    <Link to='/' className=\"cardinfo__title\">&#129044; Вернуться к списку квартир</Link>\r\n                </div>\r\n            </div>\r\n        </div>) : (<div className='cardinfo__loading'>Данные загружаются...</div>)\r\n\r\n    );\r\n}\r\n\r\nexport default CardInfo;","import React from \"react\";\nimport './App.css';\nimport Header from \"../Header/Header\";\nimport {Route} from \"react-router-dom\";\nimport Main from \"../Main/Main\";\nimport Api from '../../utils/Api'\nimport CardInfo from \"../CardInfo/CardInfo\";\n\nfunction App() {\n    const [cards, setCards] = React.useState([]);\n    const [renderedCards, setRenderedCards] = React.useState([]);\n    const [searchValue, setSearchValue] = React.useState('');\n    // Getting card from backend for render\n    React.useEffect(() => {\n        Api.getCard().then(cardList => {\n            setCards(cardList)\n            setRenderedCards(cardList.slice(0, 8))\n        })\n    }, []);\n    return (\n        <div className=\"page\">\n            <Route exact path='/'>\n                <Header\n                    searchValue={searchValue}\n                    setSearchValue={setSearchValue}\n                    setCards={setCards}\n                    cards={cards}\n                    setRenderedCards={setRenderedCards}\n                />\n                <Main searchValue={searchValue}\n                      setSearchValue={setSearchValue}\n                      cards={cards}\n                      setCards={setCards}\n                      renderedCards={renderedCards}\n                      setRenderedCards={setRenderedCards}/>\n            </Route>\n            <Route exact path='/details/:id'>\n                <CardInfo/>\n            </Route>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <HashRouter>\n          <App />\n      </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}